server:
  host: "0.0.0.0"
  port: 8082

database:
  driver: "postgres"  # postgres | mysql | sqlite
  host: "localhost"
  port: 5432
  user: "postgres"
  password: "postgres"
  dbname: "postgres"
  sslmode: "disable"
  file_path: "./data/user.db"  # SQLite only
  max_idle_conns: 10
  max_open_conns: 100
  conn_max_lifetime: 60  # minutes

auth_service:
  grpc_address: "127.0.0.1:50051"

redis:
  address: "localhost:6379"
  password: ""
  db: 0

cache:
  prefix: "user"
  ttl: "30s"

log:
  level: "info"

kafka:
  brokers: "localhost:9092"
  topic: "avatar-processed"
  group_id: "user-service"

lifecycle:
  tag_key: "lifecycle"
  tag_value: "delete-pending"

storage:
  type: "s3"             # "s3" or "local"
  s3:
    endpoint: ""         # Internal MinIO endpoint, e.g. "http://minio:9000"
    region: "us-east-1"
    bucket: ""           # MinIO bucket name
    access_key_id: ""
    secret_access_key: ""
    use_path_style: true # Required for MinIO
    public_url: ""       # Public-facing URL for presigned upload URLs
                         # Set when endpoint is an internal hostname (e.g. Docker)
                         # e.g. "http://localhost:9000" for local dev
  local:
    base_path: "./data/storage"
